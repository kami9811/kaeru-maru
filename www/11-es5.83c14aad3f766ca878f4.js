!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{G8VQ:function(o,e,i){"use strict";i.r(e),i.d(e,"BattlePageModule",(function(){return M}));var a,c,s,b=i("ofXK"),r=i("3Pt+"),g=i("TEn/"),l=i("tyNb"),p=i("fXoL"),u=i("dVwY"),h=i("Bfh1"),d=i("a/9d"),m=[{path:"",component:(a=function(){function o(n,e,i,a){var c=this;t(this,o),this.router=n,this.gs=e,this.geolocation=i,this.camera=a,this.latitude=0,this.longitude=0,this.isgoal=!1,this.spot=0,this.spot_opponent=0,this.information_flag=!1,this.postObj={},this.returnObj={},this.takeCamera=function(){c.camera.getPicture({quality:100,destinationType:c.camera.DestinationType.FILE_URI,encodingType:c.camera.EncodingType.JPEG,mediaType:c.camera.MediaType.PICTURE}).then((function(t){}),(function(t){}))},this.getInfo=function(){c.information_flag=!0,c.getTime(),c.getDistance(),c.getNumSpot()},this.getTime=function(){c.postObj.id=localStorage.id,c.postObj.hash=localStorage.hash,c.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/battle/show/time",c.postObj).subscribe((function(t){console.log(t),c.returnObj=t,200==t.status&&(c.hour=t.hour,c.minute=t.minute,c.second=t.second)}),(function(t){return console.error(t)}))},this.getDistance=function(){c.geolocation.getCurrentPosition().then((function(t){c.latitude=t.coords.latitude,c.longitude=t.coords.longitude,c.postObj.id=localStorage.id,c.postObj.latitude=c.latitude,c.postObj.longitude=c.longitude,c.postObj.hash=localStorage.hash,c.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/battle/show/distance",c.postObj).subscribe((function(t){console.log(t),c.returnObj=t,200==t.status&&(c.distance=t.distance,c.distance_opponent=t.distance_opponent)}),(function(t){return console.error(t)}))}))},this.getIsGoal=function(){c.postObj.id=localStorage.id,c.postObj.goal_code=c.goalcode,c.postObj.hash=localStorage.hash,c.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/battle/show/goal",c.postObj).subscribe((function(t){console.log(t),c.returnObj=t,200==t.status&&1==t.goal&&(c.isgoal=!0,c.router.navigate(["/result",t.score]))}),(function(t){return console.error(t)}))},this.getNumSpot=function(){c.postObj.id=localStorage.id,c.postObj.hash=localStorage.hash,c.postObj.spot=c.spot;var t=c.postObj;console.log(t),c.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/battle/show/spot",t).subscribe((function(t){console.log(t),c.returnObj=t,200==t.status&&(c.spot_opponent=t.spot_opponent)}),(function(t){return console.error(t)}))}}var e,i,a;return e=o,(i=[{key:"ngOnInit",value:function(){var t=this;this.postObj.id=localStorage.id,this.postObj.password=localStorage.password,this.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/user/edit/login",this.postObj).subscribe((function(n){t.returnObj=n,200==t.returnObj.status?(localStorage.hash=t.returnObj.hash,t.getInfo()):t.router.navigate(["/login"])}),(function(t){return console.error(t)})),this.interval=setInterval((function(){0==t.information_flag&&t.getInfo()}),1500)}}])&&n(e.prototype,i),a&&n(e,a),o}(),a.\u0275fac=function(t){return new(t||a)(p.Hb(l.g),p.Hb(u.a),p.Hb(h.a),p.Hb(d.a))},a.\u0275cmp=p.Bb({type:a,selectors:[["app-battle"]],decls:63,vars:10,consts:[[3,"translucent"],["color","main"],["id","icon","src","../../assets/icon/icon_rect.png"],[1,"battle"],[1,"txt-status"],[1,"bg","bg-red"],[1,"bg","bg-mint"],["expand","block","color","main","fill","outline",1,"ion-text-center",3,"click"],["name","camera"],[1,"extra"],["name","checkmark-circle-outline"],["name","ellipse-outline"],[3,"submit"],[1,"senshin"],["required","","type","text","name","goalcode",3,"ngModel","ngModelChange"],["type","submit","expand","block","color","main",1,"ion-text-center"],["name","home"]],template:function(t,n){1&t&&(p.Mb(0,"ion-header",0),p.Mb(1,"ion-toolbar",1),p.Mb(2,"ion-title"),p.Ib(3,"ion-img",2),p.Lb(),p.Lb(),p.Lb(),p.Mb(4,"ion-content"),p.Mb(5,"div",3),p.Mb(6,"ion-text"),p.Mb(7,"h4",4),p.gc(8,"\u3042\u306a\u305f\u306e\u30b9\u30c6\u30fc\u30bf\u30b9"),p.Lb(),p.Lb(),p.Mb(9,"div",5),p.Mb(10,"p"),p.gc(11,"\u79fb\u52d5\u6642\u9593\uff1a"),p.Mb(12,"span"),p.gc(13),p.Lb(),p.Lb(),p.Mb(14,"p"),p.gc(15,"\u76f4\u7dda\u79fb\u52d5\u6642\u901f\uff1a"),p.Mb(16,"span"),p.gc(17),p.Lb(),p.Lb(),p.Mb(18,"p"),p.gc(19,"\u30b4\u30fc\u30eb\uff1a "),p.Mb(20,"span"),p.gc(21),p.Lb(),p.Lb(),p.Mb(22,"p"),p.gc(23,"\u5bc4\u308a\u9053\u6570\uff1a"),p.Mb(24,"span"),p.gc(25),p.Lb(),p.Lb(),p.Lb(),p.Mb(26,"ion-text"),p.Mb(27,"h4",4),p.gc(28,"\u76f8\u624b\u306e\u30b9\u30c6\u30fc\u30bf\u30b9"),p.Lb(),p.Lb(),p.Mb(29,"div",6),p.Mb(30,"p"),p.gc(31,"\u79fb\u52d5\u6642\u9593\uff1a"),p.Ib(32,"span"),p.Lb(),p.Mb(33,"p"),p.gc(34,"\u76f4\u7dda\u79fb\u52d5\u6642\u901f\uff1a"),p.Mb(35,"span"),p.gc(36),p.Lb(),p.Lb(),p.Mb(37,"p"),p.gc(38,"\u30b4\u30fc\u30eb"),p.Ib(39,"span"),p.Lb(),p.Mb(40,"p"),p.gc(41,"\u5bc4\u308a\u9053\u6570\uff1a"),p.Mb(42,"span"),p.gc(43),p.Lb(),p.Lb(),p.Lb(),p.Mb(44,"ion-button",7),p.Tb("click",(function(){return n.takeCamera()})),p.Ib(45,"ion-icon",8),p.gc(46,"\u2003\u5bc4\u308a\u9053\u5199\u771f\u3092\u64ae\u5f71"),p.Lb(),p.Mb(47,"ul",9),p.Mb(48,"li"),p.Ib(49,"ion-icon",10),p.gc(50,"\u2003\u30de\u30af\u30c9\u30ca\u30eb\u30c9"),p.Lb(),p.Mb(51,"li"),p.Ib(52,"ion-icon",11),p.gc(53,"\u2003\u30b9\u30bf\u30fc\u30d0\u30c3\u30af\u30b9"),p.Lb(),p.Lb(),p.Mb(54,"form",12),p.Tb("submit",(function(){return n.getIsGoal()})),p.Mb(55,"div",13),p.Mb(56,"ion-text"),p.Mb(57,"h4",4),p.gc(58,"\u30bb\u30f3\u30b7\u30f3\u541b\u306b\u8868\u793a\u3055\u308c\u308b\u756a\u53f7"),p.Lb(),p.Lb(),p.Mb(59,"ion-input",14),p.Tb("ngModelChange",(function(t){return n.goalcode=t})),p.Lb(),p.Lb(),p.Mb(60,"ion-button",15),p.Ib(61,"ion-icon",16),p.gc(62,"\u2003\u30b4\u30fc\u30eb\uff01"),p.Lb(),p.Lb(),p.Lb(),p.Lb()),2&t&&(p.Yb("translucent",!0),p.xb(13),p.jc("",n.hour,":",n.minute,":",n.second,""),p.xb(4),p.hc(n.distance),p.xb(4),p.hc(n.isgoal),p.xb(4),p.hc(n.spot),p.xb(11),p.hc(n.distance_opponent),p.xb(7),p.hc(n.spot_opponent),p.xb(16),p.Yb("ngModel",n.goalcode))},directives:[g.o,g.C,g.B,g.q,g.m,g.z,g.e,g.p,r.i,r.e,r.f,g.r,g.J,r.h,r.d,r.g],styles:["#icon[_ngcontent-%COMP%]{height:100px;width:100px}.battle[_ngcontent-%COMP%]{margin:0 5%}.battle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1;font-size:.9em}.battle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{padding:5px;color:var(--ion-color-main-contrast);font-weight:700}.battle[_ngcontent-%COMP%]   .bg-red[_ngcontent-%COMP%]{background-color:var(--ion-color-main)}.battle[_ngcontent-%COMP%]   .bg-mint[_ngcontent-%COMP%]{background-color:var(--ion-color-sub)}.battle[_ngcontent-%COMP%]   .bg-mint[_ngcontent-%COMP%], .battle[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{margin-bottom:40px}.battle[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.battle[_ngcontent-%COMP%]   .senshin[_ngcontent-%COMP%]{margin-bottom:40px}.battle[_ngcontent-%COMP%]   .senshin[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:3%}"]}),a)}],f=((s=function n(){t(this,n)}).\u0275mod=p.Fb({type:s}),s.\u0275inj=p.Eb({factory:function(t){return new(t||s)},imports:[[l.i.forChild(m)],l.i]}),s),M=((c=function n(){t(this,n)}).\u0275mod=p.Fb({type:c}),c.\u0275inj=p.Eb({factory:function(t){return new(t||c)},imports:[[b.b,r.a,g.D,f]]}),c)}}])}();