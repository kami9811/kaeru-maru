(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{mpk1:function(t,e,i){"use strict";i.r(e),i.d(e,"RoomPageModule",(function(){return d}));var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("mrSG"),c=i("fXoL"),l=i("dVwY"),b=i("2w2N");const h=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this.router=t,this.alertController=e,this.gs=i,this.valueSharedService=o,this.enemy="\u7a7a\u5e2d...",this.postObj={},this.returnObj={},this.is_participate=!1,this.participate_msg="\u59cb\u3081\u308b",this.moveroom=()=>{this.postObj.roomid=this.roomId,this.postObj.enemy=this.enemy,this.router.navigate(["/battle"])},this.cancel=()=>{if(localStorage.id==this.valueSharedService.open_id){this.postObj.id=localStorage.id,this.postObj.hash=localStorage.hash;const t=this.postObj;console.log(t),this.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/match/delete/room",t).subscribe(t=>{this.returnObj=t,console.log("returnObj",this.returnObj.status),200==this.returnObj.status?(this.alertSuccess(),this.router.navigate(["/tabs/tab1"])):this.alertFailer()})}else this.router.navigate(["/tabs/tab1"])},this.startbattle=()=>{this.postObj.id=localStorage.id,this.postObj.open_id=this.valueSharedService.open_id,this.postObj.hash=localStorage.hash;const t=this.postObj;console.log(t),this.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/match/edit/start",t).subscribe(t=>{this.returnObj=t,console.log("returnObj",this.returnObj.status),200==this.returnObj.status&&this.moveroom()})}}ngOnInit(){this.interval=setInterval(()=>{this.roomId=this.valueSharedService.open_id,localStorage.id==this.valueSharedService.open_id?(this.enemy=this.valueSharedService.join_id,console.log(this.valueSharedService.join_id)):this.enemy=localStorage.id==this.valueSharedService.join_id?this.valueSharedService.open_id:"\u7a7a\u5e2d..."},1500)}alertSuccess(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664",message:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664\u306b\u6210\u529f\u3057\u307e\u3057\u305f.",buttons:["OK"]});yield t.present()}))}alertFailer(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664",message:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f.<br>ID\u3082\u3057\u304f\u306fhash\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059.",buttons:["OK"]});yield t.present()}))}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(s.g),c.Hb(r.a),c.Hb(l.a),c.Hb(b.a))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-room"]],decls:17,vars:5,consts:[[3,"translucent"],["color","main"],["id","icon","src","../../assets/icon/icon_rect.png"],[1,"ion-padding",3,"submit"],["position","floating"],["required","","type","text","name","roomid","readonly","",3,"ngModel","ngModelChange"],["required","","type","text","name","enemy","readonly","",3,"ngModel","ngModelChange"],["type","submit","expand","block","color","main","fill","outline","id","participating",3,"disabled","click"],["type","submit","expand","block","color","gray"]],template:function(t,e){1&t&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar",1),c.Mb(2,"ion-title"),c.Ib(3,"ion-img",2),c.Lb(),c.Lb(),c.Lb(),c.Mb(4,"ion-content"),c.Mb(5,"form",3),c.Tb("submit",(function(){return e.moveroom()})),c.Mb(6,"ion-label",4),c.gc(7,"\u30eb\u30fc\u30e0ID"),c.Lb(),c.Mb(8,"ion-input",5),c.Tb("ngModelChange",(function(t){return e.roomId=t})),c.Lb(),c.Mb(9,"ion-label",4),c.gc(10,"\u5bfe\u6226\u76f8\u624b"),c.Lb(),c.Mb(11,"ion-input",6),c.Tb("ngModelChange",(function(t){return e.enemy=t})),c.Lb(),c.Mb(12,"ion-button",7),c.Tb("click",(function(){return e.startbattle()})),c.gc(13),c.Lb(),c.Lb(),c.Mb(14,"form",3),c.Tb("submit",(function(){return e.cancel()})),c.Mb(15,"ion-button",8),c.gc(16,"\u30ad\u30e3\u30f3\u30bb\u30eb"),c.Lb(),c.Lb(),c.Lb()),2&t&&(c.Yb("translucent",!0),c.xb(8),c.Yb("ngModel",e.roomId),c.xb(3),c.Yb("ngModel",e.enemy),c.xb(1),c.Yb("disabled",e.is_participate),c.xb(1),c.hc(e.participate_msg))},directives:[r.o,r.C,r.B,r.q,r.m,n.i,n.e,n.f,r.t,r.r,r.J,n.h,n.d,n.g,r.e],styles:["#icon[_ngcontent-%COMP%]{height:100px;width:100px}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(h)],s.i]}),t})(),d=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[o.b,n.a,r.D,u]]}),t})()}}]);