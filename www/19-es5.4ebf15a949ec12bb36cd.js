!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{mpk1:function(n,o,r){"use strict";r.r(o),r.d(o,"RoomPageModule",(function(){return v}));var i,a,s,c=r("ofXK"),u=r("3Pt+"),l=r("TEn/"),b=r("tyNb"),p=r("mrSG"),d=r("fXoL"),h=r("dVwY"),m=r("2w2N"),g=[{path:"",component:(i=function(){function n(t,o,r,i){var a=this;e(this,n),this.router=t,this.alertController=o,this.gs=r,this.valueSharedService=i,this.enemy="\u7a7a\u5e2d...",this.postObj={},this.returnObj={},this.is_participate=!1,this.participate_msg="\u59cb\u3081\u308b",this.moveroom=function(){a.postObj.roomid=a.roomId,a.postObj.enemy=a.enemy,a.router.navigate(["/battle"])},this.cancel=function(){if(localStorage.id==a.valueSharedService.open_id){a.postObj.id=localStorage.id,a.postObj.hash=localStorage.hash;var e=a.postObj;console.log(e),a.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/match/delete/room",e).subscribe((function(e){a.returnObj=e,console.log("returnObj",a.returnObj.status),200==a.returnObj.status?(a.alertSuccess(),a.router.navigate(["/tabs/tab1"])):a.alertFailer()}))}else a.router.navigate(["/tabs/tab1"])},this.startbattle=function(){a.postObj.id=localStorage.id,a.postObj.open_id=a.valueSharedService.open_id,a.postObj.hash=localStorage.hash;var e=a.postObj;console.log(e),a.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/match/edit/start",e).subscribe((function(e){a.returnObj=e,console.log("returnObj",a.returnObj.status),200==a.returnObj.status&&a.moveroom()}))}}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){var e=this;this.interval=setInterval((function(){e.roomId=e.valueSharedService.open_id,localStorage.id==e.valueSharedService.open_id?(e.enemy=e.valueSharedService.join_id,console.log(e.valueSharedService.join_id)):e.enemy=localStorage.id==e.valueSharedService.join_id?e.valueSharedService.open_id:"\u7a7a\u5e2d..."}),1500)}},{key:"alertSuccess",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664",message:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664\u306b\u6210\u529f\u3057\u307e\u3057\u305f.",buttons:["OK"]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"alertFailer",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664",message:"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f.<br>ID\u3082\u3057\u304f\u306fhash\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059.",buttons:["OK"]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}}])&&t(o.prototype,r),i&&t(o,i),n}(),i.\u0275fac=function(e){return new(e||i)(d.Hb(b.g),d.Hb(l.a),d.Hb(h.a),d.Hb(m.a))},i.\u0275cmp=d.Bb({type:i,selectors:[["app-room"]],decls:17,vars:5,consts:[[3,"translucent"],["color","main"],["id","icon","src","../../assets/icon/icon_rect.png"],[1,"ion-padding",3,"submit"],["position","floating"],["required","","type","text","name","roomid","readonly","",3,"ngModel","ngModelChange"],["required","","type","text","name","enemy","readonly","",3,"ngModel","ngModelChange"],["type","submit","expand","block","color","main","fill","outline","id","participating",3,"disabled","click"],["type","submit","expand","block","color","gray"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar",1),d.Mb(2,"ion-title"),d.Ib(3,"ion-img",2),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content"),d.Mb(5,"form",3),d.Tb("submit",(function(){return t.moveroom()})),d.Mb(6,"ion-label",4),d.gc(7,"\u30eb\u30fc\u30e0ID"),d.Lb(),d.Mb(8,"ion-input",5),d.Tb("ngModelChange",(function(e){return t.roomId=e})),d.Lb(),d.Mb(9,"ion-label",4),d.gc(10,"\u5bfe\u6226\u76f8\u624b"),d.Lb(),d.Mb(11,"ion-input",6),d.Tb("ngModelChange",(function(e){return t.enemy=e})),d.Lb(),d.Mb(12,"ion-button",7),d.Tb("click",(function(){return t.startbattle()})),d.gc(13),d.Lb(),d.Lb(),d.Mb(14,"form",3),d.Tb("submit",(function(){return t.cancel()})),d.Mb(15,"ion-button",8),d.gc(16,"\u30ad\u30e3\u30f3\u30bb\u30eb"),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.Yb("translucent",!0),d.xb(8),d.Yb("ngModel",t.roomId),d.xb(3),d.Yb("ngModel",t.enemy),d.xb(1),d.Yb("disabled",t.is_participate),d.xb(1),d.hc(t.participate_msg))},directives:[l.o,l.C,l.B,l.q,l.m,u.i,u.e,u.f,l.t,l.r,l.J,u.h,u.d,u.g,l.e],styles:["#icon[_ngcontent-%COMP%]{height:100px;width:100px}"]}),i)}],f=((s=function t(){e(this,t)}).\u0275mod=d.Fb({type:s}),s.\u0275inj=d.Eb({factory:function(e){return new(e||s)},imports:[[b.i.forChild(g)],b.i]}),s),v=((a=function t(){e(this,t)}).\u0275mod=d.Fb({type:a}),a.\u0275inj=d.Eb({factory:function(e){return new(e||a)},imports:[[c.b,u.a,l.D,f]]}),a)}}])}();