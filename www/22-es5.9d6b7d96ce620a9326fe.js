!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{tmrb:function(n,o,r){"use strict";r.r(o),r.d(o,"Tab1PageModule",(function(){return w}));var i,a,s,c=r("TEn/"),l=r("ofXK"),u=r("3Pt+"),b=r("qtYk"),h=r("tyNb"),g=r("mrSG"),p=r("P5UM"),d=r("fXoL"),m=r("Bfh1"),f=r("dVwY"),v=r("2w2N"),O=[{path:"",component:(i=function(){function n(e,o,r,i,a,s){var c=this;t(this,n),this.geolocation=e,this.alertController=o,this.router=r,this.gs=i,this.modalController=a,this.valueSharedService=s,this.postObj={},this.returnObj={},this.receive_id="",this.image_1="",this.image_2="",this.image_3="",this.information_flag=!1,this.onGps=function(){c.geolocation.getCurrentPosition().then((function(t){c.latitude=t.coords.latitude,c.longitude=t.coords.longitude})).catch((function(t){console.log("Error getting location",t)}))},this.showHelps=function(){c.presentModal()},this.matching=function(t){if(t){c.postObj.id=localStorage.id,c.postObj.hash=localStorage.hash;var e=c.postObj;console.log(e),c.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/match/new/room",e).subscribe((function(t){c.returnObj=t,console.log("returnObj",c.returnObj.status),200==c.returnObj.status?(c.alertSuccess(),c.router.navigate(["/room"]),c.valueSharedService.open_id=localStorage.id):c.alertFailer()}))}else c.geolocation.getCurrentPosition().then((function(t){c.latitude=t.coords.latitude,c.longitude=t.coords.longitude,c.postObj.id=localStorage.id,c.postObj.open_id=c.roomID,c.postObj.latitude=c.latitude,c.postObj.longitude=c.longitude,c.postObj.hash=localStorage.hash;var e=c.postObj;console.log(e),c.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/match/show/room",e).subscribe((function(t){c.returnObj=t,console.log(t),200==c.returnObj.status?(c.alertSuccess(),c.valueSharedService.open_id=c.roomID,c.valueSharedService.join_id=localStorage.id,console.log(c.valueSharedService.join_id),c.router.navigate(["/room"])):c.alertFailer()}))}))}}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){var t=this;console.log("Init!"),this.postObj.id=localStorage.id,this.postObj.password=localStorage.password;var e=this.postObj;console.log(e),this.gs.http("https://kn46itblog.com/hackathon/yamaguchi2020/php_apis/user/edit/login",e).subscribe((function(e){t.returnObj=e,200==t.returnObj.status?localStorage.hash=t.returnObj.hash:t.router.navigate(["/login"])}),(function(t){return console.error(t)})),this.interval=setInterval((function(){}),1500)}},{key:"alertSuccess",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u30eb\u30fc\u30e0\u4f5c\u6210",message:"\u30eb\u30fc\u30e0\u4f5c\u6210\u306b\u6210\u529f\u3057\u307e\u3057\u305f.",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"alertFailer",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"\u30eb\u30fc\u30e0\u4f5c\u6210",message:"\u30eb\u30fc\u30e0\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f.<br>ID\u3082\u3057\u304f\u306fhash\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059.",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"presentModal",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:p.a});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}}])&&e(o.prototype,r),i&&e(o,i),n}(),i.\u0275fac=function(t){return new(t||i)(d.Hb(m.a),d.Hb(c.a),d.Hb(h.g),d.Hb(f.a),d.Hb(c.F),d.Hb(v.a))},i.\u0275cmp=d.Bb({type:i,selectors:[["app-tab1"]],decls:17,vars:3,consts:[[3,"translucent"],["color","main"],["id","icon","src","../../assets/icon/icon_rect.png"],[3,"fullscreen"],["id","room-button","Expand","block","fill","solid","color","main",1,"buttons",3,"click"],["name","add-circle-outline"],["lines","full"],["position","floating"],["required","","type","text","name","roomID",3,"ngModel","ngModelChange"],["id","join-button","Expand","block","fill","outline","color","main",1,"buttons",3,"click"],["Expand","block","fill","solid","color","sub",1,"buttons",3,"click"],["name","help-circle-outline"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar",1),d.Mb(2,"ion-title"),d.Ib(3,"ion-img",2),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content",3),d.Mb(5,"ion-button",4),d.Tb("click",(function(){return e.matching(!0)})),d.Ib(6,"ion-icon",5),d.gc(7,"\u30de\u30c3\u30c1\u30f3\u30b0\u30eb\u30fc\u30e0\u3092\u4f5c\u6210"),d.Lb(),d.Mb(8,"ion-item",6),d.Mb(9,"ion-label",7),d.gc(10,"\u53c2\u52a0\u30eb\u30fc\u30e0ID"),d.Lb(),d.Mb(11,"ion-input",8),d.Tb("ngModelChange",(function(t){return e.roomID=t})),d.Lb(),d.Lb(),d.Mb(12,"ion-button",9),d.Tb("click",(function(){return e.matching(!1)})),d.gc(13,"\u5bfe\u8c61\u306e\u30de\u30c3\u30c1\u30f3\u30b0\u306b\u53c2\u52a0"),d.Lb(),d.Mb(14,"ion-button",10),d.Tb("click",(function(){return e.showHelps()})),d.Ib(15,"ion-icon",11),d.gc(16,"\u30eb\u30fc\u30eb\u8aac\u660e"),d.Lb(),d.Lb()),2&t&&(d.Yb("translucent",!0),d.xb(4),d.Yb("fullscreen",!0),d.xb(7),d.Yb("ngModel",e.roomID))},directives:[c.o,c.C,c.B,c.q,c.m,c.e,c.p,c.s,c.t,c.r,c.J,u.h,u.d,u.g],styles:[".buttons[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}#room-button[_ngcontent-%COMP%]{margin-top:25%;margin-bottom:25%}#join-button[_ngcontent-%COMP%]{margin-top:10%;margin-bottom:60%}#icon[_ngcontent-%COMP%]{height:100px;width:100px}"]}),i)}],j=((s=function e(){t(this,e)}).\u0275mod=d.Fb({type:s}),s.\u0275inj=d.Eb({factory:function(t){return new(t||s)},imports:[[h.i.forChild(O)],h.i]}),s),w=((a=function e(){t(this,e)}).\u0275mod=d.Fb({type:a}),a.\u0275inj=d.Eb({factory:function(t){return new(t||a)},imports:[[c.D,l.b,u.a,b.a,j]]}),a)}}])}();